subsequent_episode = () -> 
  if $('.subsequent_1').length then $('.subsequent_1') else $('.oldest_episode')

previous_episode = () -> 
  if $('.previous_1').length then$('.previous_1') else $('.newest_episode')

episode_url = (episode) -> $(episode).children().first().attr('href')

keyboard_navigation = (key) ->
  unless Application.keyboard_navigation_disabled
    switch key.which
      when 78 then window.location.replace(episode_url(subsequent_episode()) )
      when 80 then window.location.replace(episode_url(previous_episode()))
      else return
    key.preventDefault()

jQuery -> $(document).bind 'keydown', (key) => keyboard_navigation(key)
